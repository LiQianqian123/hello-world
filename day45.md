# Numpy入门
```python
 Python中专门用来处理这些数值数组的工具： NumPy 包和 Pandas 包
 用 np 作为别名导入 NumPy
 import numpy as np
 ```
# 2.1 理解Python中的数据类型
```python
在 Python中，类型是动态推断的，可以将任何类型的数据指定给任何变量
x = 4
x = "four"
这里已经将 x 变量的内容由整型转变成了字符串，Python 变量不仅是它们的值，还包括了关于值的类型的一些额外信息
```
## 2.1.1 Python整型不仅仅是一个整型
```python
 Python 的整型其实是一个指针，指向包含这个 Python 对象所有信息的某个内存位置，其中包括可以转换成整型的字节
 ```
## 2.1.2 Python列表不仅仅是一个列表
```python
Python 中的标准可变多元素容器是列表。
In[1]: L = list(range(10))
       L
Out[1]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
In[2]: type(L[0])
Out[2]: int  #整型
In[3]: L2 = [str(c) for c in L]  #把L变成字符型
       L2
Out[3]: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
In[4]: type(L2[0])
Out[4]: str
In[5]: L3 = [True, "2", 3.0, 4]
[type(item) for item in L3]
Out[5]: [bool, str, float, int]
如果列表中的所有变量都是同一类型的，那么很多信息都会显得多余——将数据存储在固定类型的数组中应该会更高效
列表的优势是灵活，因为每个列表元素是一个包含数据和类型信息的完整结构体，而且列表可以用任意类型的数据填充。
## 2.1.3 Python中的固定类型数组
```python
内置的数组（array）模块（在 Python 3.3 之后可用）可以用于创建统一类型的密集数组：
In[6]: import array
       L = list(range(10))
       A = array.array('i', L)
       A
       Out[6]: array('i', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9])   # 'i' 是一个数据类型码，表示数据为整型
```
## 2.1.4　从Python列表创建数组
```python
可以用 np.array 从 Python 列表创建数组
In[8]: # 整型数组:
       np.array([1, 4, 2, 5, 3])
Out[8]: array([1, 4, 2, 5, 3])
NumPy 要求数组必须包含同一类型的数据。如果类型不匹配， NumPy 将会向上转换（如果可行）
In[9]: np.array([3.14, 4, 2, 3])
Out[9]: array([ 3.14, 4. , 2. , 3. ])
用 dtype 关键字可以明确设置数组的数据类型
In[10]: np.array([1, 2, 3, 4], dtype='float32')
Out[10]: array([ 1., 2., 3., 4.], dtype=float32)
NumPy 数组可以被指定为多维的
In[11]: # 嵌套列表构成的多维数组
        np.array([range(i, i + 3) for i in [2, 4, 6]])  #左闭右开
Out[11]: array([[2, 3, 4],
                [4, 5, 6],
                [6, 7, 8]])
```
# 2.1.5　从头创建数组
```python
面对大型数组的时候，用 NumPy 内置的方法从头创建数组是一种更高效的方法
In[12]: # 创建一个长度为10的数组，数组的值都是0
        np.zeros(10, dtype=int)
Out[12]: array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
  
In[13]: # 创建一个3× 5的浮点型数组，数组的值都是1
        np.ones((3, 5), dtype=float)
Out[13]: array([[ 1., 1., 1., 1., 1.],
                [ 1., 1., 1., 1., 1.],
                [ 1., 1., 1., 1., 1.]])
In[14]: # 创建一个3× 5的浮点型数组，数组的值都是3.14
        np.full((3, 5), 3.14)
Out[14]: array([[ 3.14, 3.14, 3.14, 3.14, 3.14],
                [ 3.14, 3.14, 3.14, 3.14, 3.14],
               [ 3.14, 3.14, 3.14, 3.14, 3.14]])
In[15]: # 创建一个3× 5的浮点型数组，数组的值是一个线性序列
        # 从0开始，到20结束，步长为2
        # （它和内置的range()函数类似）
        np.arange(0, 20, 2)
Out[15]: array([ 0, 2, 4, 6, 8, 10, 12, 14, 16, 18])
In[16]: # 创建一个5个元素的数组，这5个数均匀地分配到0~1
        np.linspace(0, 1, 5)
Out[16]: array([ 0. , 0.25, 0.5 , 0.75, 1. ])
In[17]: # 创建一个3× 3的、在0~1均匀分布的随机数组成的数组
        np.random.random((3, 3))
Out[17]: array([[ 0.99844933, 0.52183819, 0.22421193],
                [ 0.08007488, 0.45429293, 0.20941444],
                 [ 0.14360941, 0.96910973, 0.946117 ]])
In[18]: # 创建一个3× 3的、均值为0、方差为1的
        # 正态分布的随机数数组
        np.random.normal(0, 1, (3, 3))
Out[18]: array([[ 1.51772646, 0.39614948, -0.10634696],
                 [ 0.25671348, 0.00732722, 0.37783601],
                [ 0.68446945, 0.15926039, -0.70744073]])
In[19]: # 创建一个3× 3的、 [0, 10)区间的随机整型数组
        np.random.randint(0, 10, (3, 3))
Out[19]: array([[2, 3, 4],
                [5, 7, 8],
                [0, 5, 0]])
In[20]: # 创建一个3× 3的单位矩阵
        np.eye(3)
Out[20]: array([[ 1., 0., 0.],
                [ 0., 1., 0.],
                [ 0., 0., 1.]])
In[21]: # 创建一个由3个整型数组成的未初始化的数组
        # 数组的值是内存空间中的任意值
        np.empty(3)
Out[21]: array([ 1., 1., 1.])
```
## 2.1.6 NumPy标准数据类型
```python
可以用一个字符串参数来指定数据类型
np.zeros(10, dtype='int16')
或者用相关的 NumPy 对象来指定
np.zeros(10, dtype=np.int16)
```
# 2.2 NumPy数组基础
```python
用 NumPy 数组操作获取数据或子数组，对数组进行分裂、变形和连接
```
## 2.2.1 NumPy数组的属性
```python
将用 NumPy 的随机数生成器设置一组种子值，以确保每次程序执行时都可以生成同样的随机数组
In[1]: import numpy as np
       np.random.seed(0) # 设置随机数种子
       x1 = np.random.randint(10, size=6) # 一维数组
       x2 = np.random.randint(10, size=(3, 4)) # 二维数组
       x3 = np.random.randint(10, size=(3, 4, 5)) # 三维数组
 nidm（数组的维度）、 shape（数组每个维度的大小）和size（数组的总大小）
 In[2]: print("x3 ndim: ", x3.ndim)
        print("x3 shape:", x3.shape)
        print("x3 size: ", x3.size)
x3 ndim: 3
x3 shape: (3, 4, 5)
x3 size: 60
 dtype是数组的数据类型
In[3]: print("dtype:", x3.dtype)
dtype: int64
表示每个数组元素字节大小的 itemsize，以及表示数组总字节大小的属性nbytes
In[4]: print("itemsize:", x3.itemsize, "bytes")
       print("nbytes:", x3.nbytes, "bytes")
itemsize: 8 bytes
nbytes: 480 bytes   #可以认为 nbytes 跟 itemsize 和 size 的乘积大小相等
# 2.2.2　数组索引： 获取单个元素
```python
在一维数组中，你也可以通过中括号指定索引获取第 i 个值（从 0 开始计数）
In[5]: x1
Out[5]: array([5, 0, 3, 3, 7, 9])
In[6]: x1[0]
Out[6]: 5
In[7]: x1[4]
Out[7]: 7
为了获取数组的末尾索引，可以用负值索引：
In[8]: x1[-1]
Out[8]: 9
In[9]: x1[-2]
Out[9]: 7
在多维数组中，可以用逗号分隔的索引元组获取元素：
In[10]: x2
Out[10]: array([[3, 5, 2, 4],
[7, 6, 8, 8],
[1, 6, 7, 7]])
In[11]: x2[0, 0]
Out[11]: 3
In[12]: x2[2, 0]
Out[12]: 1
In[13]: x2[2, -1]
Out[13]: 7
也可以用以上索引方式修改元素值：
In[14]: x2[0, 0] = 12
        x2
Out[14]: array([[12, 5, 2, 4],
                [ 7, 6, 8, 8],
                [ 1, 6, 7, 7]])
NumPy数组是固定类型的,当你试图将一个浮点值插入一个整型数组时，浮点值会被截短成整型。并且这种截短是自动完成的，不会给你提示或警告
In[15]: x1[0] = 3.14159 # 这将被截短
        x1
Out[15]: array([3, 0, 3, 3, 7, 9])
```
# 2.2.3　数组切片： 获取子数组
```python
用中括号获取单个数组元素，用切片（slice）符号获取子数组，切片符号用冒号（:）表示
x[start:stop:step]
默认值 start=0、 stop= 维度的大小（size of dimension） 和 step=1。
In[16]: x = np.arange(10)
        x
Out[16]: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
In[17]: x[:5] # 前五个元素
Out[17]: array([0, 1, 2, 3, 4])
In[18]: x[5:] # 索引五之后的元素
Out[18]: array([5, 6, 7, 8, 9])
In[19]: x[4:7] # 中间的子数组
Out[19]: array([4, 5, 6])
In[20]: x[::2] # 每隔一个元素
Out[20]: array([0, 2, 4, 6, 8])
In[21]: x[1::2] # 每隔一个元素，从索引1开始
Out[21]: array([1, 3, 5, 7, 9])
步长值为负时,逆序数组
In[22]: x[::-1] # 所有元素，逆序的
Out[22]: array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])
In[23]: x[5::-2] # 从索引5开始每隔一个元素逆序
Out[23]: array([5, 3, 1])
多维切片用冒号分隔
In[24]: x2
Out[24]: array([[12, 5, 2, 4],
                [ 7, 6, 8, 8],
                [ 1, 6, 7, 7]])
In[25]: x2[:2, :3] # 两行，三列
Out[25]: array([[12, 5, 2],
                [ 7, 6, 8]])
In[26]: x2[:3, ::2] # 所有行，每隔一列
Out[26]: array([[12, 2],
                [ 7, 8],
                [ 1, 7]])
子数组维度也可以同时被逆序：
In[27]: x2[::-1, ::-1]
Out[27]: array([[ 7, 7, 6, 1],
                [ 8, 8, 6, 7],
               [ 4, 2, 5, 12]])
 获取数组的行和列
 In[28]: print(x2[:, 0]) # x2的第一列
[12 7 1]
In[29]: print(x2[0, :]) # x2的第一行
[12 5 2 4]



 
 
 
 
 
 
 
 
 
 
 
 
 














